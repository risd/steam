@mixin transformOrigin($perX, $perY) {
    -webkit-transform-origin: $perX $perY;
    -moz-transform-origin: $perX $perY;
    -ms-transform-origin: $perX $perY;
    -o-transform-origin: $perX $perY;
    transform-origin: $perX $perY;
}

@mixin scale($size) {
    -webkit-transform: scale($size);
    -moz-transform: scale($size);
    -ms-transform: scale($size);
    -o-transform: scale($size);
    transform: scale($size);
}

@mixin transition($what, $length, $easing) {
    -moz-transition:    $what $length $easing;
    -o-transition:      $what $length $easing;
    -webkit-transition: $what $length $easing;
    -ms-transition:     $what $length $easing;
    transition:         $what $length $easing;

}

@mixin rotate($deg: 0, $m11: 0, $m12: 0, $m21: 0, $m22: 0) {
     -moz-transform: rotate($deg + deg);
       -o-transform: rotate($deg + deg);
  -webkit-transform: rotate($deg + deg);
      -ms-transform: rotate($deg + deg);
          transform: rotate($deg + deg);
             filter: progid:DXImageTransform.Microsoft.Matrix(
                     M11=#{$m11}, M12=#{$m12}, M21=#{$m21}, M22=#{$m22}, sizingMethod='auto expand');
               zoom: 1;
}

@mixin sentinel {
    font-family: 'Sentinel SSm A', 'Sentinel SSm B';
    font-weight: 400;
    font-style: normal;

    -webkit-font-smoothing: antialiased;
}

@mixin antenna-bold {
    font-family: "Antenna Comp";
    font-style: normal;
    font-weight: bold;
    
    -webkit-font-smoothing: antialiased;
}

@mixin antenna-medium {
    font-family: "Antenna Comp Medium";
    font-style: normal;
    font-weight: normal;
    
    -webkit-font-smoothing: antialiased;
}


.center-in-parent {
    position: relative;
    margin: 0 auto;
    width: 80%;
}

// colors

$color-research: rgb(105,230,64);
$color-political: rgb(255,97,127);
$color-education: rgb(255,137,49);
$color-industry: rgb(39,180,242);
$color-slate: rgb(81,98,114);
$white: rgb(255,255,255);
$off-white: rgb(200,200,200);
$off-black: rgb(30,30,30);

// overlay colors
$fullscreen-color-opacity: 0.8;


html, body {
    margin: 0;
    padding: 0;
    position: relative;

    height: 100%;
    width: 100%;
}

header {
    margin: 0;
    padding: 0;

    background: transparent;
}

.fullscreen {
    position: absolute;
    top: 0;
    bottom: 0;
    height: 100%;
    width: 100%;

    display: none;
}
.fullscreen.active {
    display: block;
}

.modal {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 100%;
    height: 100%;

    overflow-y: scroll;

    &.active {
        display: block;
    }

    &.fullscreen {
        color: $white;

        background-color: rgba($color-slate,
                               $fullscreen-color-opacity);

        &.research {
            background-color: rgba($color-research,
                                   $fullscreen-color-opacity);
        }
        &.political {
            background-color: rgba($color-political,
                                   $fullscreen-color-opacity);
        }
        &.education {
            background-color: rgba($color-education,
                                   $fullscreen-color-opacity);
        }
        &.industry {
            background-color: rgba($color-industry,
                                   $fullscreen-color-opacity);
        }
    }
}


.modal-wrapper {
    margin-top: 80px;
    margin-bottom: 80px;
}
.close-button {
    cursor: pointer;
    padding: 5px;
}
.modal-header {
    margin-bottom: 25px;
}
.modal h1 {
    @include antenna-medium;

    font-size: 120px;
    line-height: 95px;
    margin: 0;
}
.modal p {
    @include sentinel;

    font-size: 24px;
    line-height: 1.8em;

    margin-top: 1.5em;
    margin-bottom: 0;
}

.hide-til-active {
    display: none;
}
.hide-til-active.active {
    display: block;
}
.clickable {
    cursor: pointer;
}

.z-0 {
    z-index: 0;

    /*cursor: move;*/
}
.z-10 {
    z-index: 10;
}
.z-100 {
    z-index: 100;
}
.z-150 {
    z-index: 150;
}
.z-200 {
    z-index: 200;
}
.z-250 {
    z-index: 250;
}

#steamie-network .button {
    position: absolute;
    top: 100px;
    right: 100px;

    cursor: pointer;
}

/************
Global filters
*/
.filter_bar {
    position: absolute;
    top: 200px;
}
.filter_bar .button {
    width: 124px;

    font-family: "Mercury Display";
    font-weight: "light";
    font-size: 18px;

    text-align: left;

    border-top: 1px dashed rgb(204, 204, 204);

    padding: 11px 0 11px 18px;
    margin: 0;
    line-height: 0.9em;
}

.filter_bar .button {
    background-color: transparent;
    opacity: 0.5;
}
.filter_bar .button.active {
    color: $white;
    opacity: 1.0;
}
.filter_bar .button.active.research {
    background-color: $color-research;
}
.filter_bar .button.active.education {
    background-color: $color-education;
}
.filter_bar .button.active.political {
    background-color: $color-political;
}
.filter_bar .button.active.industry {
    background-color: $color-industry;
}
.filter_bar.all-active .button.active {
    background-color: transparent;
    color: rgb(128, 130, 133);
    opacity: 1.0;
}
h3.filter-by {
    @include sentinel;

    font-size: 22px;

    color: rgb(165,165,165);

    margin: 0 0 0 27px;
    padding: 0;
}
.filter_bar .button:before {
    position: relative;
    display: inline-block;

    top: 0;
    left: -9px;

    content: "";

    height: 8px;
    width: 8px;

    border-radius: 4px;
    border-width: 1px;
    border-style: solid;
}
.filter_bar .button:before {
    border-color: $white;
}
.filter_bar.all-active .button.research:before {
    border-color: $color-research;
}
.filter_bar.all-active .button.political:before {
    border-color: $color-political;
}
.filter_bar.all-active .button.education:before {
    border-color: $color-education;
}
.filter_bar.all-active .button.industry:before {
    border-color: $color-industry;
}
/* end global filters */



/************
Leaflet map styles
*/
.leaflet-top {
    top: 120px;
}
.leaflet-left {
    left: 40px;

    .leaflet-control {
        margin: 0;
    }
    .leaflet-bar {
        border: none;
    }
}

.leaflet-bar > a.leaflet-control-zoom-in,
.leaflet-bar > a.leaflet-control-zoom-out {
    height: 23px;
    width: 23px;

    border-width: 1px;
    border-color: rgb(204, 204, 204);
    border-style: solid;
    border-radius: 50%;
    
    color: rgb(204, 204, 204);
    background-color: transparent;

    @include sentinel;

    line-height: 21px;
}
.leaflet-bar > a.leaflet-control-zoom-in:hover ,
.leaflet-bar > a.leaflet-control-zoom-out:hover {
        height: 23px;
        width: 23px;
        background-color: rgb(240, 240, 240);

        line-height: 21px;
}
.leaflet-bar > a.leaflet-control-zoom-in:active ,
.leaflet-bar > a.leaflet-control-zoom-out:active {
    background-color: rgb(150,150,150);
}
a.leaflet-control-zoom-out {
    margin-top: 7px;
}
/* end Leaflet map styles */

/************
Leaflet Marker Cluster Styles
*/
$cluster-fill: rgba(78,91,109,0.8);
@mixin mixin-cluster($diameter) {
    $arc-width: 10px;
    $arc-gap: 1px;
    $arc-total-width: $arc-gap + $arc-width;

    border-radius: ($diameter/2) + $arc-total-width;

    div {
        // width of the arc
        margin: $arc-total-width;
        height: $diameter;
        width: $diameter;
        border-radius: $diameter/2;
        background-size: $diameter $diameter;
    }

    span {
        line-height: $diameter;

        @include antenna-medium;

        font-size: 26px;
        text-align: center;
        letter-spacing: 1px;
        color: rgb(255,255,255);
    }

    div.arc-wrapper {
        border-radius: 0;
        position: absolute;
        top: 0;
        left: 0;
        height: ($diameter + (2 * 11));
        width: ($diameter + (2 * 11));
        background-color: transparent;
        margin: 0;
    }
}

.marker-cluster .span-wrapper {
    background-color: $cluster-fill;
    background-image: none;
    background-repeat: no-repeat;
}
.represents-one-entity:hover {
    span {
        display: none;
    }
    div.span-wrapper {
        background-image: url('/static/svg/fullscreen.svg');   
    }
}
.represents-multiple-entities:hover {
    span {
        display: none;
    }
    div.span-wrapper {
        background-image: url('/static/svg/magnifyingglass.svg');
    }
}

.mc-2-digit {
    @include mixin-cluster(36px);
}
.mc-3-digit {
    @include mixin-cluster(42px);
}
.mc-4-digit {
    @include mixin-cluster(50px);
}
.mc-5-digit {
    @include mixin-cluster(54px);
}
.mc-6-digit {
    @include mixin-cluster(61px);
}
/* end Leaflet Marker Cluster Styles */




/************
network graph
*/

/* all nodes  */
.node {
    cursor: pointer;
}

.node.research {
    fill: $color-research;
    stroke: $color-research;
}
.node.political {
    fill: $color-political;
    stroke: $color-political;
}
.node.education {
    fill: $color-education;
    stroke: $color-education;
}
.node.industry {
    fill: $color-industry;
    stroke: $color-industry;
}
/* network nodes representing institutions  */
.node.institution circle.outter {
    stroke-width: 1;
    fill: none;   
}
.node.institution circle.inner {
    stroke-width: 0;
}
/* network nodes representing individuals  */
.node.individual circle.outter {
    stroke-width: 0;
}
.avatar {
    width: 60px;
    height: auto;
    border-radius: 30px;
    border-width: 1px;
    border-style: solid;
}
.info_tip {
    position: fixed;
    top: 20%;
    left: 20%;

    width: 250px;

    @include sentinel;

    text-align: left;
}
.info_tip .avatar {
    position: absolute;
    top: 0;
    left: -65px;
}
.info_tip p {
    font-size: 1.1em;
    line-height: 1.5em;

    font-style: italic;
    margin: 0;
}
.info_tip p.description {
    padding-left: 15px;
    margin-top: 10px;
    border-left-width: 1px;
    border-left-style: solid;
}
.info_tip.research {
    p.name {
        color: $color-research;   
    }
    p.description {
        border-left-color: $color-research;
    }
    .avatar {
        border-color: $color-research;
    }
}
.info_tip.political {
    p.name {
        color: $color-political;
    }
    p.description {
        border-color: $color-political;
    }
    .avatar {
        border-color: $color-political;
    }
}
.info_tip.education {
    p.name {
        color: $color-education;
    }
    p.description {
        border-color: $color-education;
    }
    .avatar {
        border-color: $color-education;
    }
}
.info_tip.industry {
    p.name {
        color: $color-industry;
    }
    p.description {
        border-color: $color-industry;
    }
    .avatar {
        border-color: $color-industry;
    }
}

.canvas-wrapper {
    background: rgba($white, 0.9);
    
}
.header-wrapper {
    text-align: center;
    position: absolute;
    top: 36px;
    width: 100%;

    h3 {
        text-align: center;
        font-size: 26px;
        @include sentinel;

        padding: 0 30px 10px 30px;
        border-bottom: 1px solid $color-slate;
    }
    em {
        text-style: italic; 
    }
}
rect.blanket {
    fill: transparent;
    stroke: transparent;
}


/************
form / profile
*/
#activate-add-yourself {
    position: absolute;
    top: 100px;
    right: 30px;

    cursor: pointer;
}

.add-me {
    @include antenna-medium;
    font-size: 35px;
    color: $color-slate;
    margin: 0;
    padding: 20px;
}

.button {
    padding: 20px;
    background: yellow;
    border-radius: 2px;

    cursor: pointer;
}

.button.large {
    @include antenna-medium;

    font-size: 100px;
    line-height: 95px;

    border: 1px solid $white;
    background-color: transparent;
    text-align: center;
    color: $white;

    margin-top: 0.6em;
}

.button.large.enabled {
    color: $color-slate;
    background-color: $white;
}

.column.half {
    width: 45%;
    margin-right: 5%; 
}
.column.half.omega {
    margin-right: 0;
}

.add-yourself-login { }

.checkmark {
    position: absolute;
    left: -40px;
    bottom: 30px;

    display: none;
}
.checkmark.valid {
    display: block;
}

.login-option {
    position: relative;
    display: inline-block;

    cursor: pointer;

    @include antenna-medium;

    font-size: 100px;
    line-height: 95px;
    margin: 0 20px 0 0;

    color: rgba($white ,0.5);

    &:last-child {
        margin-right: 0;
    }

    &.selected,
    &:hover {
        color: $white;
    }

    
    &.selected .checkmark  {
        display: block;
    }
}
.login-option:after {
    content: "";
    position: absolute;
    
    height: 110px;
    width: 1px;

    top: -5px;
    right: -10px;
    border-right: 1px solid $off-white;
    
    @include rotate(10);
}
.login-option:last-child:after {
    border-right: 0;
    @include rotate(10);
}

input {
    font-size: 24px;
    width: 100%
}
label {
    font-size: 24px;
}
select {
    font-size: 24px;
    background: none;
    @include transition(all, 0.2s, ease-in-out);
    @include sentinel;

    width: 100%;
    margin: 0 0 20px 0;
    
    border-radius: 0;
    background-color: transparent;
    border: 0 solid transparent;
    border-bottom: 1px dotted $off-white;
    outline: none;
    -webkit-appearance: none;

    color: $white;

    padding-top: 10px;
    padding-bottom: 10px;
    padding-right: 0;
}
textarea {
    width: 100%;
    height: 4em;
    background: transparent;
    color: $white;
    border: 0;

    outline: none;
    -webkit-appearance: none;

    font-size: 24px;
    background:none;
    
    @include transition(all, 0.2s, ease-in-out);
    @include sentinel;
}
textarea:focus {
    background: $white;
    color: $off-black;
    outline: none;
    box-shadow:0px 0px 5px rgba(30,30,30,0.2);

    @include transition(all, 0.2s, ease-in-out);
    -webkit-font-smoothing:antialiased;
}
input,
select,
textarea {
    box-sizing: border-box;
    padding-left: 10px;
}
.profile-link {
    position: absolute;
    bottom: 150px;
    left: 28px;
}

.sel-work-in,
.sel-type {
    border-bottom: 1px dotted $off-white;
    padding-bottom: 30px;
    margin-bottom: 10px;
}
.choose-type-add-zip .sel-type {
    margin-bottom: 35px;
}
.sel-type .type-option,
.sel-work-in .type-option {
    margin: 0 auto;
}
.sel-type .type-option {
    // equivalent to four-column-one, offset-one
    float: left;
    width: 22.9%;
    margin-right:2.779862674784%;
    margin-left:25.679862674784%;
}
.sel-work-in .type-option {
    // equivalent to four-column-one
    float: left;
    width: 22.9%;
    margin-right:2.779862674784%;
}
.sel-type .type-option:last-child,
.sel-work-in .type-option:last-child {
    margin-right: 0;
    margin-left: 0;
}
.type-option-label {
    width: 100%;
    display: block;

    .indicator {
        display: block;
        height: 20px;
        width: 20px;
        margin: 20px auto 0 auto;
        border-radius: 12px;
        border: 2px solid $off-white;
        background: transparent;
        position: relative;

        @include transition(all, 0.2s, cubic-bezier(.95, .05, .795, .035));

        .fill {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            border-radius: 50%;
            background: $white;

            @include transformOrigin(50%, 50%);
            @include scale(0);
            @include transition(all, 0.2s, cubic-bezier(.95, .05, .795, .035));
        }
    }
}
input[type=radio] {
    opacity: 0;
    position: absolute;
    margin-left: 2.4em;
    margin-top: 0.6em;
}
.type-option input[type="radio"]:checked + label {
    .indicator {
        @include transition(all, 0.3s, cubic-bezier(.95, .05, .795, .035));
        border-color: $white;
    }
    .fill {
        @include transition(all, 0.3s, cubic-bezier(.95, .05, .795, .035));
        @include scale(0.7);
    }

}
::-webkit-resizer {
    // color: $white;
}
.input-text,
.input-select {
    // equivalent to four-column-two
    float:left;
    width:48.611111111111%;
}
.input-select {
    margin-right:2.779862674784%;
}
.input-text {
    margin-right: 0;
}
.input-text input,
.input-select select {
    margin-bottom: 10px;
}
.modal-header-avatar {
    text-align: center;
    margin-bottom: 25px;
}
.sel-work-in p,
.individual-description p {
    margin-bottom: 1.1em;
}
.steamie-description p {
    border-bottom: 1px dotted $off-white;
    margin-bottom: 10px;
}
.sel-work-in p,
.individual-description p,
.steamie-description p {
    box-sizing: border-box;
    padding-left: 10px;
}
/* end form */

.modal-animation {
    position: fixed;
    top: 0;
    left: 0;

    width: 100%;
    height: 100%;

    circle {
        fill: transparent;
        stroke: $off-white;
        stroke-width: 1;
    }
    circle.highlight {
        fill: $off-white;
    }
}